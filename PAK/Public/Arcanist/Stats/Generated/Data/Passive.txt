// Exploiter
new entry "ArcaneEmpower"
type "PassiveData"
data "DisplayName" "8c09e3af-e75e-4322-ab38-ca9bab7b969d;1"
data "Description" "f74f6552-fdd2-41c3-9205-8866c6d22edd;1"
data "DescriptionParams" "10;DealDamage(1d6,Necrotic)"
data "Conditions" "HasSpellFlag(SpellFlags.Spell)"
data "StatsFunctors" "IF(HasDamageDoneForType(DamageType.Acid)):DealDamage(SpellCastingAbilityModifier,Acid); IF(HasDamageDoneForType(DamageType.Bludgeoning)):DealDamage(SpellCastingAbilityModifier,Bludgeoning); IF(HasDamageDoneForType(DamageType.Cold)):DealDamage(SpellCastingAbilityModifier,Cold); IF(HasDamageDoneForType(DamageType.Fire)):DealDamage(SpellCastingAbilityModifier,Fire); IF(HasDamageDoneForType(DamageType.Force)):DealDamage(SpellCastingAbilityModifier,Force); IF(HasDamageDoneForType(DamageType.Lightning)):DealDamage(SpellCastingAbilityModifier,Lightning); IF(HasDamageDoneForType(DamageType.Necrotic)):DealDamage(SpellCastingAbilityModifier,Necrotic); IF(HasDamageDoneForType(DamageType.Piercing)):DealDamage(SpellCastingAbilityModifier,Piercing); IF(HasDamageDoneForType(DamageType.Psychic)):DealDamage(SpellCastingAbilityModifier,Psychic); IF(HasDamageDoneForType(DamageType.Radiant)):DealDamage(SpellCastingAbilityModifier,Radiant); IF(HasDamageDoneForType(DamageType.Slashing)):DealDamage(SpellCastingAbilityModifier,Slashing); IF(HasDamageDoneForType(DamageType.Thunder)):DealDamage(SpellCastingAbilityModifier,Thunder)"
data "StatsFunctorContext" "OnDamage"

new entry "Exploit_ArcaneBlast"
type "PassiveData"
data "DisplayName" "56a5644d-0a2f-4ed3-b66b-b41456687f0b;1"
data "Description" "75358565-3563-46dc-86a3-4f67da617589;1"
data "Icon" "Spell_Evocation_EldritchBlast"
data "Properties" "ToggledDefaultAddToHotbar"
data "EnabledConditions" "HasActionResource('SorceryPoint', 1, 0, false, false, context.Source)"
data "EnabledContext" "OnCastResolved;OnLongRest;OnActionResourcesChanged"
data "Boosts" "Unlockspell(Projectile_ArcaneBlast)

new entry "Exploit_Tripled"
type "PassiveData"
data "DisplayName" "f483cb4e-5023-44a7-808e-9873d0e18cbe;1"
data "Description" "22df217f-83a3-4eb1-8c7d-ec0cd575906f;1"
data "ExtraDescription" "abf47b5d-81df-4814-b1f5-2345f6252ac3;1"
data "ExtraDescriptionParams" "Distance(1.5)"
data "Icon" "Skill_Sorcerer_Passive_Metamagic_TripledExploit"
data "EnabledConditions" "HasActionResource('SorceryPoint', 1, 0, false, false, context.Source)"
data "EnabledContext" "OnCastResolved;OnLongRest;OnActionResourcesChanged"
data "Properties" "IsToggled;ToggledDefaultAddToHotbar;MetaMagic"
data "Boosts" "UnlockSpellVariant(TwinnedProjectileSpellCheck(),ModifyNumberOfTargets(AdditiveBase,2,false),ModifyUseCosts(Add,SorceryPoint,SpellPowerLevel,0));UnlockSpellVariant(TwinnedTargetSpellCheck(),ModifyNumberOfTargets(AdditiveBase,2,false),ModifyUseCosts(Add,SorceryPoint,SpellPowerLevel,0))"
data "ToggleOnEffect" "VFX_Spells_Cast_Sorcerer_Metamagic_Twinned_HeadFX_01:Dummy_HeadFX"
data "ToggleOffContext" "OnCastResolved"
data "StatsFunctors" "IF(SpellPowerLevelEqualTo(1)):DealDamage(2d4-CharismaModifier,Necrotic); IF(SpellPowerLevelEqualTo(2)):DealDamage(4d4-CharismaModifier,Necrotic); IF(SpellPowerLevelEqualTo(3)):DealDamage(6d4-CharismaModifier,Necrotic); IF(SpellPowerLevelEqualTo(4)):DealDamage(8d4-CharismaModifier,Necrotic); IF(SpellPowerLevelEqualTo(5)):DealDamage(10d4-CharismaModifier,Necrotic); IF(SpellPowerLevelEqualTo(6)):DealDamage(12d4-CharismaModifier,Necrotic); IF(SpellPowerLevelEqualTo(7)):DealDamage(14d4-CharismaModifier,Necrotic); IF(SpellPowerLevelEqualTo(8)):DealDamage(16d4-CharismaModifier,Necrotic); IF(SpellPowerLevelEqualTo(9)):DealDamage(18d4-CharismaModifier,Necrotic)"
data "StatsFunctorContext" "OnCast"
data "ToggleGroup" "Metamagic"

new entry "Exploit_Quickened"
type "PassiveData"
data "DisplayName" "b15e99d6-d7ce-456e-a02e-f20c0727d8c5;1"
data "Description" "d18a0b55-dede-47dc-9b24-568b960bc55e;1"
data "DescriptionParams" "1;DealDamage(1d6,Necrotic)"
data "Icon" "Skill_Sorcerer_Passive_Metamagic_QuickenedExploit"
data "EnabledConditions" "HasActionResource('SorceryPoint', 1, 0, false, false, context.Source)"
data "EnabledContext" "OnCastResolved;OnLongRest;OnActionResourcesChanged"
data "Properties" "IsToggled;ToggledDefaultAddToHotbar;MetaMagic"
data "Boosts" "UnlockSpellVariant(QuickenedSpellCheck(),ModifyUseCosts(Add,SorceryPoint,1,0),ModifyUseCosts(Replace,BonusActionPoint,1,0,ActionPoint),ModifyTooltipDescription(),ModifyIconGlow())"
data "ToggleOnEffect" "VFX_Spells_Cast_Sorcerer_Metamagic_Quickened_HeadFX_01:Dummy_HeadFX"
data "ToggleOffContext" "OnCastResolved"
data "StatsFunctors" "IF(SpellPowerLevelEqualTo(1)):DealDamage(1d6-CharismaModifier,Necrotic); IF(SpellPowerLevelEqualTo(2)):DealDamage(2d6-CharismaModifier,Necrotic); IF(SpellPowerLevelEqualTo(3)):DealDamage(3d6-CharismaModifier,Necrotic); IF(SpellPowerLevelEqualTo(4)):DealDamage(4d6-CharismaModifier,Necrotic); IF(SpellPowerLevelEqualTo(5)):DealDamage(5d6-CharismaModifier,Necrotic); IF(SpellPowerLevelEqualTo(6)):DealDamage(6d6-CharismaModifier,Necrotic); IF(SpellPowerLevelEqualTo(7)):DealDamage(7d6-CharismaModifier,Necrotic); IF(SpellPowerLevelEqualTo(8)):DealDamage(8d6-CharismaModifier,Necrotic); IF(SpellPowerLevelEqualTo(9)):DealDamage(9d6-CharismaModifier,Necrotic)"
data "StatsFunctorContext" "OnCast"
data "ToggleGroup" "Metamagic"

// Psychic
new entry "Psychic_Expertise"
type "PassiveData"
data "DisplayName" "bc9286a2-a855-4486-a865-8014ccfd0bcc;1"
data "Description" "c31699d2-77ef-4268-a0a6-70d49615c2bc;1"
data "Properties" "IsToggled;ToggledDefaultOn;Highlighted"
data "Boosts" ""

new entry "Psychic_Mastery"
type "PassiveData"
data "DisplayName" "cf3bb3e7-a6c5-4171-8d70-dca8b6d6ae19;1"
data "Description" "0e5df7f4-d201-4f69-baae-b345cc537dc7;1"
data "DescriptionParams" "1"
data "Boosts" "Reroll(Damage,20,false)"
data "StatsFunctorContext" "OnCast"
data "Conditions" "not IsCantrip() and HasSpellFlag(SpellFlags.Spell) and (IsDamageTypeForce(context.Target) or IsDamageTypePsychic(context.Target)) and Enemy(context.Target)"
data "Properties" "Highlighted"

new entry "Psychic_Resilience"
type "PassiveData"
data "DisplayName" "8f86c6aa-02e1-4ec9-92ba-b8da7e737fac;1"
data "Description" "ab7a55fc-b0bd-488a-8cde-b5bb714406f0;1"
data "Icon" "Spell_Abjuration_Resistance"
data "Properties" "Highlighted"
data "Boosts" "Resistance(Force, Resistant);Resistance(Psychic, Resistant)"
